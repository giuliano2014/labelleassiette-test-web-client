(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,n){e.exports=n(357)},155:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(19),i=n.n(o),l=(n(155),n(14)),c=n(15),s=n(17),u=n(16),d=n(18),p=n(126),m=n(21),h=n(127),g=n.n(h),f=n(77),b=n.n(f),E=n(24),y=n.n(E),k=n(22),v=n.n(k),C=n(129),O=n.n(C),w=n(61),P=n.n(w),j=n(130),S=n.n(j),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorEl,n=Boolean(t);return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(y.a,{variant:"h6",color:"inherit",className:e.grow},"La Belle Assiette"),r.a.createElement("div",null,r.a.createElement(v.a,{"aria-owns":n?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement(O.a,null)),r.a.createElement(S.a,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:n,onClose:this.handleClose},r.a.createElement(P.a,{onClick:this.handleClose},"My account"),r.a.createElement(P.a,{onClick:this.handleClose},"Logout"))))))}}]),t}(a.Component),I=Object(m.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(M),N=n(131),B=n.n(N),D=n(132),T=n.n(D),x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.openModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.wrapper},r.a.createElement(y.a,{variant:"h5",component:"h3"},"Ingredient(s)"),r.a.createElement(B.a,{size:"small",color:"secondary","aria-label":"Add",className:t.button,onClick:n},r.a.createElement(T.a,null))),r.a.createElement(y.a,{component:"p"},"This is your ingredient manager"))}}]),t}(a.Component),A=Object(m.withStyles)(function(e){return{wrapper:{display:"flex",justifyContent:"space-between"},button:{margin:e.spacing.unit}}})(x),Q=n(133),q=n.n(Q),R=n(134),W=n.n(R),_=n(136),L=n.n(_),U=n(26),F=n.n(U),z=n(135),G=n.n(z),Y=n(62),H=n.n(Y),J=n(139),V=n.n(J),X=n(140),$=n.n(X),K=n(38),Z=n.n(K),ee=n(82),te=n.n(ee),ne=n(138),ae=n.n(ne),re=n(137),oe=n.n(re),ie=n(32),le=n.n(ie),ce="https://labelleassiette-api.herokuapp.com",se=function(e,t){return le.a.get("".concat(ce,"/api/ingredients/").concat(e,"/").concat(t)).then(function(e){return e.data}).catch(function(e){return console.error(e)})},ue=function(e){return le.a.post("".concat(ce,"/api/ingredients/"),e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},de=function(e,t){return le.a.put("".concat(ce,"/api/ingredients/").concat(e),t).then(function(e){return e.data}).catch(function(e){return console.error(e)})},pe=function(e){return le.a.delete("".concat(ce,"/api/ingredients/").concat(e)).then(function(e){return e.data}).catch(function(e){return console.error(e)})},me=n(79),he=n.n(me),ge=n(81),fe=n.n(ge),be=n(80),Ee=n.n(be),ye=n(78),ke=n.n(ye),ve=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleFirstPageButtonClick=function(e){n.props.onChangePage(e,0)},n.handleBackButtonClick=function(e){n.props.onChangePage(e,n.props.page-1)},n.handleNextButtonClick=function(e){n.props.onChangePage(e,n.props.page+1)},n.handleLastPageButtonClick=function(e){n.props.onChangePage(e,Math.max(0,Math.ceil(n.props.count/n.props.rowsPerPage)-1))},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.count,a=e.page,o=e.rowsPerPage,i=e.theme;return r.a.createElement("div",{className:t.root},r.a.createElement(v.a,{onClick:this.handleFirstPageButtonClick,disabled:0===a,"aria-label":"First Page"},"rtl"===i.direction?r.a.createElement(ke.a,null):r.a.createElement(he.a,null)),r.a.createElement(v.a,{onClick:this.handleBackButtonClick,disabled:0===a,"aria-label":"Previous Page"},"rtl"===i.direction?r.a.createElement(Ee.a,null):r.a.createElement(fe.a,null)),r.a.createElement(v.a,{onClick:this.handleNextButtonClick,disabled:a>=Math.ceil(n/o)-1,"aria-label":"Next Page"},"rtl"===i.direction?r.a.createElement(fe.a,null):r.a.createElement(Ee.a,null)),r.a.createElement(v.a,{onClick:this.handleLastPageButtonClick,disabled:a>=Math.ceil(n/o)-1,"aria-label":"Last Page"},"rtl"===i.direction?r.a.createElement(he.a,null):r.a.createElement(ke.a,null)))}}]),t}(a.Component),Ce=Object(m.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(ve),Oe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,ingredients:[],page:0,rowsPerPage:3},n.componentDidMount=function(){n.getIngredientsWithPagination(n.state.page,n.state.rowsPerPage)},n.componentDidUpdate=function(e){e.isButtonclicked===n.props.isButtonclicked&&e.isIngredientDeleted===n.props.isIngredientDeleted||n.getIngredientsWithPagination(n.state.page,n.state.rowsPerPage)},n.displayModal=function(e,t,a){n.props.openModal("update",e,t,a)},n.getIngredientsWithPagination=function(e,t){se(e,t).then(function(e){n.setState({ingredients:e})}).then(function(){n.setState({loading:!1})})},n.handleChangePage=function(e,t){n.setState({page:t},function(){n.getIngredientsWithPagination(n.state.page,n.state.rowsPerPage)})},n.handleChangeRowsPerPage=function(e){n.setState({rowsPerPage:e.target.value},function(){n.getIngredientsWithPagination(n.state.page,n.state.rowsPerPage)})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.displaySnackbar,o=this.state,i=o.loading,l=o.ingredients,c=o.page,s=o.rowsPerPage;return r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:n.loader},r.a.createElement(q.a,{color:"secondary"})):0===l.total?r.a.createElement(y.a,{variant:"caption",gutterBottom:!0},"Add your first ingredient, by clicking on the + button, at the top right"):r.a.createElement(Z.a,{className:n.root},r.a.createElement(W.a,{className:n.table},r.a.createElement(G.a,null,r.a.createElement(H.a,null,r.a.createElement(F.a,null,"Ingredient(s)"),r.a.createElement(F.a,{numeric:!0},"Quantity (g)"),r.a.createElement(F.a,{numeric:!0},"Update"),r.a.createElement(F.a,{numeric:!0},"Delete"))),r.a.createElement(L.a,null,l.docs.map(function(t,n){return r.a.createElement(H.a,{key:n},r.a.createElement(F.a,{component:"th",scope:"row"},t.name),r.a.createElement(F.a,{numeric:!0},t.quantity||"0"),r.a.createElement(F.a,{numeric:!0},r.a.createElement(te.a,{title:"Update",onClick:function(){return e.displayModal(t._id,t.name,t.quantity)}},r.a.createElement(v.a,{"aria-label":"Update"},r.a.createElement(oe.a,null)))),r.a.createElement(F.a,{numeric:!0},r.a.createElement(te.a,{title:"Delete",onClick:function(){return a(t._id,t.name)}},r.a.createElement(v.a,{"aria-label":"Delete"},r.a.createElement(ae.a,null)))))})),r.a.createElement(V.a,null,r.a.createElement(H.a,null,r.a.createElement($.a,{rowsPerPageOptions:[3,6,9],colSpan:4,count:l.total,rowsPerPage:s,page:c,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:Ce}))))))}}]),t}(a.Component),we=Object(m.withStyles)(function(e){return{loader:{flexGrow:1,marginTop:80,marginBottom:80},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:700}}})(Oe),Pe=n(60),je=n(39),Se=n.n(je),Me=n(83),Ie=n.n(Me),Ne=n(142),Be=n.n(Ne),De=n(146),Te=n.n(De),xe=n(144),Ae=n.n(xe),Qe=n(145),qe=n.n(Qe),Re=n(143),We=n.n(Re),_e=n(149),Le=n(141),Ue=n.n(Le),Fe=function(e){var t=e.inputRef,n=e.onChange,a=Object(_e.a)(e,["inputRef","onChange"]);return r.a.createElement(Ue.a,Object.assign({},a,{getInputRef:t,onValueChange:function(e){n({target:{value:e.value}})}}))},ze=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",quantity:"",errorMessage:""},n.componentDidUpdate=function(e){e.currentName!==n.props.currentName&&n.setState({name:n.props.currentName}),e.currentQuantity!==n.props.currentQuantity&&n.setState({quantity:n.props.currentQuantity})},n.inputChange=function(e){return function(t){n.setState(Object(Pe.a)({},e,t.target.value))}},n.handleSubmit=function(){var e={name:n.state.name,quantity:parseInt(n.state.quantity)};e.name?"add"===n.props.modalType?ue(e).then(function(){n.closeModal(),n.props.refreshComponent()}):de(n.props.currentId,e).then(function(){n.closeModal(),n.props.refreshComponent()}):n.setState({errorMessage:"* Required field"})},n.closeModal=function(){n.setState({name:"",quantity:"",errorMessage:""}),n.props.closeModal()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalType,n=e.isModalOpened,a=this.state,o=a.name,i=a.quantity,l=a.errorMessage;return r.a.createElement(Be.a,{open:n,onClose:this.closeModal,"aria-labelledby":"form-dialog-title"},r.a.createElement(We.a,{id:"form-dialog-title"},"Ingredient"),r.a.createElement(Ae.a,null,r.a.createElement(qe.a,null,"add"===t?"You can add a new ingredient.":"You can update the information of the ingredient."),r.a.createElement(Ie.a,{label:"Name",style:{marginTop:24,marginBottom:16},placeholder:"Strawberries",helperText:l,error:""!==l,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:o,onChange:this.inputChange("name")}),r.a.createElement(Ie.a,{label:"Quantity",placeholder:"250",helperText:"Quantity must be expressed in grams",fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{inputComponent:Fe},value:i,onChange:this.inputChange("quantity")})),r.a.createElement(Te.a,null,r.a.createElement(Se.a,{color:"primary",onClick:this.closeModal},"Cancel"),r.a.createElement(Se.a,{color:"primary",onClick:this.handleSubmit},"add"===t?"Save":"Update")))}}]),t}(a.Component),Ge=n(147),Ye=n.n(Ge),He=n(148),Je=n.n(He),Ve=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentName,a=e.isSnackbarDisplay,o=e.hideSnackbar,i=e.deleteIngredient;return r.a.createElement(Ye.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:i,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},n," have been deleted"),action:[r.a.createElement(Se.a,{key:"undo",color:"secondary",size:"small",onClick:o},"UNDO"),r.a.createElement(v.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:i},r.a.createElement(Je.a,null))]})}}]),t}(a.Component),Xe=Object(m.withStyles)(function(e){return{close:{padding:e.spacing.unit/2}}})(Ve),$e=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modalType:null,currentId:null,currentName:"",currentQuantity:"",isModalOpened:!1,isSnackbarDisplay:!1,isButtonclicked:!1,isIngredientDeleted:!1},n.openModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n.setState({modalType:e,currentId:t,currentName:a,currentQuantity:r,isModalOpened:!0})},n.closeModal=function(){n.setState({currentId:null,currentName:"",currentQuantity:"",isModalOpened:!1,isButtonclicked:!1})},n.displaySnackbar=function(e,t){n.setState({currentId:e,currentName:t,isSnackbarDisplay:!0,isIngredientDeleted:!1})},n.hideSnackbar=function(){n.setState({currentId:null,currentName:"",isSnackbarDisplay:!1})},n.deleteIngredient=function(){pe(n.state.currentId).then(function(){n.setState({currentId:null,currentName:"",isSnackbarDisplay:!1,isIngredientDeleted:!0})})},n.refreshComponent=function(){n.setState({isButtonclicked:!0})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.modalType,a=t.currentId,o=t.currentName,i=t.currentQuantity,l=t.isModalOpened,c=t.isSnackbarDisplay,s=t.isButtonclicked,u=t.isIngredientDeleted;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{openModal:function(){return e.openModal()}}),r.a.createElement(we,{isModalOpened:l,isButtonclicked:s,isIngredientDeleted:u,openModal:this.openModal,displaySnackbar:this.displaySnackbar}),r.a.createElement(ze,{modalType:n,currentId:a,currentName:o,currentQuantity:i,isModalOpened:l,closeModal:this.closeModal,refreshComponent:this.refreshComponent}),r.a.createElement(Xe,{currentName:o,isSnackbarDisplay:c,hideSnackbar:this.hideSnackbar,deleteIngredient:this.deleteIngredient}))}}]),t}(a.Component),Ke=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement("div",{className:e.root},r.a.createElement($e,null)))}}]),t}(a.Component),Ze=Object(m.withStyles)(function(e){return{root:Object(p.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit})}})(Ke);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[150,2,1]]]);
//# sourceMappingURL=main.0e834b3e.chunk.js.map